<app-auth-layout>
  <div class="space-y-6">
    <!-- Title -->
    <div class="text-center">
      <h1
        class="text-2xl md:text-3xl font-display font-bold text-text-primary mb-2"
      >
        Create Your Account
      </h1>
      <p class="text-text-secondary">Your Money. Your Friends. Your Way</p>
    </div>

    <!-- Error Message -->
    @if (errorMessage()) {
      <div class="error-message">
        {{ errorMessage() }}
      </div>
    }

    <!-- Registration Form -->
    <form
      [formGroup]="registerForm"
      (ngSubmit)="onSubmit()"
      [@shake]="shakeState()"
    >
      <!-- Name -->
      <div class="mb-4">
        <label
          for="name"
          class="block text-sm font-medium text-text-primary mb-2"
        >
          Full Name
        </label>
        <input
          id="name"
          type="text"
          formControlName="name"
          [class]="getInputClass('name')"
          placeholder="Enter your full name"
        />
        <app-form-error [message]="getErrorMsg('name')"></app-form-error>
      </div>

      <!-- Phone Number -->
      <div class="mb-4">
        <label
          for="phoneNumber"
          class="block text-sm font-medium text-text-primary mb-2"
        >
          Phone Number
        </label>
        <input
          id="phoneNumber"
          type="tel"
          formControlName="phoneNumber"
          [class]="getInputClass('phoneNumber')"
          placeholder="0XXXXXXXXX or 263XXXXXXXXX"
        />
        <app-form-error [message]="getErrorMsg('phoneNumber')"></app-form-error>
      </div>

      <!-- EcoCash Number -->
      <div class="mb-4">
        <label
          for="ecocashNumber"
          class="block text-sm font-medium text-text-primary mb-2"
        >
          EcoCash Number
        </label>
        <input
          id="ecocashNumber"
          type="tel"
          formControlName="ecocashNumber"
          [class]="getInputClass('ecocashNumber')"
          placeholder="0XXXXXXXXX or 263XXXXXXXXX"
        />
        <app-form-error
          [message]="getErrorMsg('ecocashNumber')"
        ></app-form-error>
      </div>

      <!-- Password -->
      <div class="mb-4">
        <label
          for="password"
          class="block text-sm font-medium text-text-primary mb-2"
        >
          Password
        </label>
        <input
          id="password"
          type="password"
          formControlName="password"
          [class]="getInputClass('password')"
          placeholder="Create a strong password"
        />
        <app-form-error [message]="getErrorMsg('password')"></app-form-error>
      </div>

      <!-- Confirm Password -->
      <div class="mb-6">
        <label
          for="confirmPassword"
          class="block text-sm font-medium text-text-primary mb-2"
        >
          Confirm Password
        </label>
        <input
          id="confirmPassword"
          type="password"
          formControlName="confirmPassword"
          [class]="getInputClass('confirmPassword')"
          placeholder="Re-enter your password"
        />
        <app-form-error
          [message]="getErrorMsg('confirmPassword')"
        ></app-form-error>
      </div>

      <!-- Submit Button -->
      <button
        type="submit"
        class="btn-primary w-full transform active:scale-95"
        [disabled]="isLoading()"
      >
        @if (isLoading()) {
          <app-loading-spinner
            [size]="20"
            message="Creating account..."
          ></app-loading-spinner>
        } @else {
          Create Account
        }
      </button>
    </form>

    <!-- Login Link -->
    <div class="text-center text-sm text-text-secondary">
      Already have an account?
      <a
        routerLink="/login"
        class="text-honey-600 hover:text-honey-700 font-semibold"
      >
        Sign in
      </a>
    </div>
  </div>
</app-auth-layout>
