<div class="min-h-screen bg-bg-primary pb-24">
  <!-- Page Header -->
  <div class="px-6 pt-8 pb-6">
    <h1 class="font-display font-bold text-2xl text-text-primary">My Wallet</h1>
    <p class="text-text-secondary text-sm mt-1">Manage your funds and EcoCash connection.</p>
  </div>

  <div class="px-6 space-y-6">
    <!-- Wallet Hero Card -->
    <div class="bg-gradient-wallet rounded-[20px] p-6 text-white shadow-hive relative overflow-hidden">
      <!-- Decorative Background Elements -->
      <div class="absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full blur-2xl -mr-16 -mt-16 pointer-events-none"></div>
      <div class="absolute bottom-0 left-0 w-24 h-24 bg-white/10 rounded-full blur-xl -ml-12 -mb-12 pointer-events-none"></div>

      <!-- Top Row: Status -->
      <div class="flex justify-between items-start mb-6 relative z-10">
        <div class="flex items-center gap-2 bg-white/20 backdrop-blur-md px-3 py-1.5 rounded-full border border-white/10">
          <lucide-icon [img]="Smartphone" class="w-4 h-4 text-white"></lucide-icon>
          <span class="text-xs font-medium tracking-wide">EcoCash Connected</span>
        </div>
        <button class="p-2 bg-white/20 hover:bg-white/30 rounded-full transition-colors active:scale-95">
          <lucide-icon [img]="RefreshCw" class="w-4 h-4 text-white"></lucide-icon>
        </button>
      </div>

      <!-- Middle: Balance -->
      <div class="relative z-10 mb-8">
        <span class="text-sm font-medium text-white/80 block mb-1">Available Balance</span>
        <div class="flex items-baseline gap-1">
          <h2 class="text-4xl font-display font-bold tracking-tight">{{ formatCurrency(data().balance) }}</h2>
        </div>
        <p class="text-xs text-white/60 mt-2">Last updated: Just now</p>
      </div>

      <!-- Bottom: Quick Actions -->
      <div class="grid grid-cols-3 gap-3 relative z-10">
        <a routerLink="/app/transact" [queryParams]="{ mode: 'deposit' }" class="flex flex-col items-center justify-center gap-2 bg-white/20 hover:bg-white/30 active:bg-white/40 border border-white/10 rounded-xl py-3 transition-all cursor-pointer">
          <lucide-icon [img]="Plus" class="w-5 h-5 text-white"></lucide-icon>
          <span class="text-xs font-semibold">Add Money</span>
        </a>
        <a routerLink="/app/transact" [queryParams]="{ mode: 'send' }" class="flex flex-col items-center justify-center gap-2 bg-white/20 hover:bg-white/30 active:bg-white/40 border border-white/10 rounded-xl py-3 transition-all cursor-pointer">
          <lucide-icon [img]="Send" class="w-5 h-5 text-white"></lucide-icon>
          <span class="text-xs font-semibold">Send</span>
        </a>
        <a routerLink="/app/transact" [queryParams]="{ mode: 'withdraw' }" class="flex flex-col items-center justify-center gap-2 bg-white/20 hover:bg-white/30 active:bg-white/40 border border-white/10 rounded-xl py-3 transition-all cursor-pointer">
          <lucide-icon [img]="ArrowDown" class="w-5 h-5 text-white"></lucide-icon>
          <span class="text-xs font-semibold">Withdraw</span>
        </a>
      </div>
    </div>

    <!-- Recent Transactions -->
    <div class="space-y-4">
      <div class="flex items-center justify-between px-1">
        <h3 class="font-display font-bold text-lg text-text-primary">Recent Activity</h3>
        <button class="text-xs font-medium text-hive-600 bg-hive-50 px-3 py-1.5 rounded-full hover:bg-hive-100 transition-colors">
          All Transactions
        </button>
      </div>

      <div class="dashboard-card !p-0 overflow-hidden">
        <div class="divide-y divide-cream-200">
          @for (tx of data().transactions; track tx.id) {
            <div class="flex items-center justify-between p-4 hover:bg-cream-50 transition-colors active:bg-cream-100 cursor-pointer group">
              <div class="flex items-center gap-4">
                <!-- Icon Circle -->
                <div [class]="'w-10 h-10 rounded-full flex items-center justify-center ' + getSpecIconClass(tx.type)">
                  <lucide-icon [img]="getSpecIcon(tx.type)" class="w-5 h-5"></lucide-icon>
                </div>
                
                <!-- Info -->
                <div class="flex flex-col">
                  <span class="text-sm font-semibold text-text-primary group-hover:text-hive-600 transition-colors line-clamp-1">
                    {{ tx.description }}
                  </span>
                  <span class="text-xs text-text-tertiary">
                    {{ tx.date | date:'MMM d, h:mm a' }}
                  </span>
                </div>
              </div>

              <!-- Amount & Status -->
              <div class="text-right">
                <span [class]="'block text-sm font-bold ' + (tx.amount > 0 ? 'text-green-600' : 'text-text-primary')">
                  {{ tx.amount > 0 ? '+' : '' }}{{ formatCurrency(tx.amount) }}
                </span>
                <span [class]="'inline-flex items-center gap-1 text-[10px] font-medium px-1.5 py-0.5 rounded ' + (tx.status === 'completed' ? 'bg-green-50 text-green-700' : 'bg-gray-100 text-gray-600')">
                  {{ tx.status | titlecase }}
                </span>
              </div>
            </div>
          }
        </div>
        
        <!-- View All Link (Optional Footer) -->
        <div class="p-3 bg-cream-50 border-t border-cream-200 text-center">
            <button class="text-xs font-semibold text-text-secondary hover:text-hive-600 flex items-center justify-center gap-1 mx-auto transition-colors">
                View Full History
                <lucide-icon [img]="History" class="w-3 h-3"></lucide-icon>
            </button>
        </div>
      </div>
    </div>
  </div>
</div>